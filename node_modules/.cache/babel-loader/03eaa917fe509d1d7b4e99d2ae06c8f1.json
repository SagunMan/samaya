{"remainingRequest":"/home/roshan/projects/playground/samaya/samaya-chrome-ext/node_modules/babel-loader/lib/index.js!/home/roshan/projects/playground/samaya/samaya-chrome-ext/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/roshan/projects/playground/samaya/samaya-chrome-ext/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/roshan/projects/playground/samaya/samaya-chrome-ext/src/components/Quote.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/roshan/projects/playground/samaya/samaya-chrome-ext/src/components/Quote.vue","mtime":1600918617876},{"path":"/home/roshan/projects/playground/samaya/samaya-chrome-ext/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/roshan/projects/playground/samaya/samaya-chrome-ext/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/roshan/projects/playground/samaya/samaya-chrome-ext/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/roshan/projects/playground/samaya/samaya-chrome-ext/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS5ub3ciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvaG9tZS9yb3NoYW4vcHJvamVjdHMvcGxheWdyb3VuZC9zYW1heWEvc2FtYXlhLWNocm9tZS1leHQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmltcG9ydCBfIGZyb20gImxvZGFzaCI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDYWxlbmRhciIsCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8vIGZldGNoIG5ldyBxdW90ZSBpZiBpdHMgMSBkYXkgb2xkCiAgICBpZiAodGhpcy5xdW90ZSAmJiB0aGlzLnF1b3RlLmZldGNoZWRBdCkgewogICAgICB2YXIgc3RhbGUgPSBtb21lbnQodGhpcy5xdW90ZS5mZXRjaGVkQXQsICJ4IikuaXNCZWZvcmUobW9tZW50KCkuc3VidHJhY3QoMSwgImQiKSk7CiAgICAgIGlmIChzdGFsZSkgdGhpcy5mZXRjaFJhbmRvbVF1b3RlKCk7CiAgICB9IGVsc2UgdGhpcy5mZXRjaFJhbmRvbVF1b3RlKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaFJhbmRvbVF1b3RlOiBmdW5jdGlvbiBmZXRjaFJhbmRvbVF1b3RlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgZmV0Y2goImh0dHBzOi8vYmliaHV0aWNvZGVyLmdpdGh1Yi5pby9zYW1heWEtcXVvdGVzLWFwaS9xdW90ZXMvbWV0YWRhdGEuanNvbiIpLnRoZW4oZnVuY3Rpb24gKHIpIHsKICAgICAgICByZXR1cm4gci5qc29uKCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKG1ldGFkYXRhKSB7CiAgICAgICAgdmFyIHJhbmRvbVBhZ2UgPSBfLnJhbmRvbSgxLCBtZXRhZGF0YS50b3RhbFBhZ2VzKTsKCiAgICAgICAgZmV0Y2goImh0dHBzOi8vYmliaHV0aWNvZGVyLmdpdGh1Yi5pby9zYW1heWEtcXVvdGVzLWFwaS9xdW90ZXMvIiArIHJhbmRvbVBhZ2UgKyAiLmpzb24iKS50aGVuKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgICByZXR1cm4gci5qc29uKCk7CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocXVvdGVzRGF0YSkgewogICAgICAgICAgdmFyIHJhbmRvbVF1b3RlID0gcXVvdGVzRGF0YVtfLnJhbmRvbSgwLCBxdW90ZXNEYXRhLmxlbmd0aCAtIDEpXTsKCiAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCJxdW90ZS9zZXRRdW90ZSIsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcmFuZG9tUXVvdGUpLCB7fSwgewogICAgICAgICAgICBmZXRjaGVkQXQ6IERhdGUubm93KCkKICAgICAgICAgIH0pKTsKCiAgICAgICAgICBjb25zb2xlLmxvZyhyYW5kb21RdW90ZSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoInF1b3RlIiwgWyJxdW90ZSJdKSkKfTs="},{"version":3,"sources":["Quote.vue"],"names":[],"mappings":";;;;;;;;AAKA,SAAA,UAAA,QAAA,MAAA;AACA,OAAA,CAAA,MAAA,QAAA;AACA,OAAA,MAAA,MAAA,QAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,OAFA,qBAEA;AACA;AACA,QAAA,KAAA,KAAA,IAAA,KAAA,KAAA,CAAA,SAAA,EAAA;AACA,UAAA,KAAA,GAAA,MAAA,CAAA,KAAA,KAAA,CAAA,SAAA,EAAA,GAAA,CAAA,CAAA,QAAA,CACA,MAAA,GAAA,QAAA,CAAA,CAAA,EAAA,GAAA,CADA,CAAA;AAGA,UAAA,KAAA,EAAA,KAAA,gBAAA;AACA,KALA,MAKA,KAAA,gBAAA;AACA,GAVA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,gBADA,8BACA;AAAA;;AACA,MAAA,KAAA,CAAA,uEAAA,CAAA,CACA,IADA,CACA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,IAAA,EAAA;AAAA,OADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,YAAA,UAAA,GAAA,CAAA,CAAA,MAAA,CAAA,CAAA,EAAA,QAAA,CAAA,UAAA,CAAA;;AACA,QAAA,KAAA,CACA,6DACA,UADA,GAEA,OAHA,CAAA,CAKA,IALA,CAKA,UAAA,CAAA;AAAA,iBAAA,CAAA,CAAA,IAAA,EAAA;AAAA,SALA,EAMA,IANA,CAMA,UAAA,UAAA,EAAA;AACA,cAAA,WAAA,GAAA,UAAA,CAAA,CAAA,CAAA,MAAA,CAAA,CAAA,EAAA,UAAA,CAAA,MAAA,GAAA,CAAA,CAAA,CAAA;;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,gBAAA,kCACA,WADA;AAEA,YAAA,SAAA,EAAA,IAAA,CAAA,GAAA;AAFA;;AAIA,UAAA,OAAA,CAAA,GAAA,CAAA,WAAA;AACA,SAbA;AAcA,OAlBA;AAmBA;AArBA,GAZA;AAoCA,EAAA,QAAA,oBACA,UAAA,CAAA,OAAA,EAAA,CAAA,OAAA,CAAA,CADA;AApCA,CAAA","sourcesContent":["<template>\n  <div class=\"quote\" v-if=\"quote\">“{{quote.text}}”</div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\n\nexport default {\n  name: \"Calendar\",\n  created() {\n    // fetch new quote if its 1 day old\n    if (this.quote && this.quote.fetchedAt) {\n      let stale = moment(this.quote.fetchedAt, \"x\").isBefore(\n        moment().subtract(1, \"d\")\n      );\n      if (stale) this.fetchRandomQuote();\n    } else this.fetchRandomQuote();\n  },\n\n  methods: {\n    fetchRandomQuote() {\n      fetch(\"https://bibhuticoder.github.io/samaya-quotes-api/quotes/metadata.json\")\n        .then(r => r.json())\n        .then(metadata => {\n          let randomPage = _.random(1, metadata.totalPages);\n          fetch(\n            \"https://bibhuticoder.github.io/samaya-quotes-api/quotes/\" +\n              randomPage +\n              \".json\"\n          )\n            .then(r => r.json())\n            .then(quotesData => {\n              let randomQuote = quotesData[_.random(0, quotesData.length - 1)];\n              this.$store.commit(\"quote/setQuote\", {\n                ...randomQuote,\n                fetchedAt: Date.now()\n              });\n              console.log(randomQuote);\n            });\n        });\n    }\n  },\n\n  computed: {\n    ...mapGetters(\"quote\", [\"quote\"])\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\" scoped>\n.quote {\n  font-size: 1rem;\n  color: white;\n  text-align: center;\n  cursor: default;\n}\n</style>\n"],"sourceRoot":"src/components"}]}