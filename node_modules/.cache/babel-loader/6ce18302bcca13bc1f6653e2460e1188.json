{"remainingRequest":"/home/roshan/projects/playground/samaya/samaya-chrome-ext/node_modules/babel-loader/lib/index.js!/home/roshan/projects/playground/samaya/samaya-chrome-ext/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/roshan/projects/playground/samaya/samaya-chrome-ext/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/roshan/projects/playground/samaya/samaya-chrome-ext/src/components/Calendar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/roshan/projects/playground/samaya/samaya-chrome-ext/src/components/Calendar.vue","mtime":1598257512859},{"path":"/home/roshan/projects/playground/samaya/samaya-chrome-ext/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/roshan/projects/playground/samaya/samaya-chrome-ext/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/roshan/projects/playground/samaya/samaya-chrome-ext/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/roshan/projects/playground/samaya/samaya-chrome-ext/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmciOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvaG9tZS9yb3NoYW4vcHJvamVjdHMvcGxheWdyb3VuZC9zYW1heWEvc2FtYXlhLWNocm9tZS1leHQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmltcG9ydCBhZGJzIGZyb20gImFkLWJzLWNvbnZlcnRlciI7CmltcG9ydCBfIGZyb20gImxvZGFzaCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ2FsZW5kYXIiLAogIHByb3BzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd0Z1bGxDYWw6IGZhbHNlLAogICAgICBmdWxsQ2FsOiBudWxsLAogICAgICBmdWxsQ2FsTW9udGg6IG51bGwKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5mdWxsQ2FsTW9udGggPSB0aGlzLmNhbERhdGEubW9udGhFbjsKICAgIHRoaXMuY29tcHV0ZUZ1bGxDYWwoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNvbXB1dGVDbG9ja1RleHQ6IGZ1bmN0aW9uIGNvbXB1dGVDbG9ja1RleHQoKSB7CiAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpOwogICAgICB2YXIgaHIgPSBub3cuZ2V0SG91cnMoKTsKICAgICAgaWYgKHRoaXMuY2xvY2tGb3JtYXQgPT0gMTIpIGhyID0gaHIgJSAxMiB8fCAxMjsKICAgICAgdmFyIG1pbnMgPSBub3cuZ2V0TWludXRlcygpICsgIiI7CiAgICAgIGlmIChtaW5zLmxlbmd0aCA9PT0gMSkgbWlucyA9ICIwIiArIG1pbnM7CiAgICAgIHJldHVybiBociArICI6IiArIG1pbnM7CiAgICB9LAogICAgY29tcHV0ZUZ1bGxDYWw6IGZ1bmN0aW9uIGNvbXB1dGVGdWxsQ2FsKCkgewogICAgICB2YXIgZmlyc3REYXkgPSB0aGlzLmdldEZpcnN0RGF5T2ZNb250aCh0aGlzLmNhbERhdGEuZGF5SW5Nb250aEVuLCB0aGlzLmNhbERhdGEuZGF5T2ZXZWVrRW4gKyAxKTsKICAgICAgdmFyIGxpbmVhckNhbCA9IFtdOwoKICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBmaXJzdERheTsgaSsrKSB7CiAgICAgICAgbGluZWFyQ2FsLnB1c2gobnVsbCk7CiAgICAgIH0KCiAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPD0gdGhpcy5jYWxEYXRhLnRvdGFsRGF5c0luTW9udGhFbjsgX2krKykgewogICAgICAgIGxpbmVhckNhbC5wdXNoKF9pKTsKICAgICAgfQoKICAgICAgdGhpcy5mdWxsQ2FsID0gXy5jaHVuayhsaW5lYXJDYWwsIDcpOwogICAgfSwKICAgIHRvZ2dsZUZ1bGxDYWw6IGZ1bmN0aW9uIHRvZ2dsZUZ1bGxDYWwoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiY2FsZW5kYXIvc2V0VmlzaWJpbGl0eSIsICF0aGlzLnZpc2liaWxpdHkpOwogICAgfSwKICAgIGdldEZpcnN0RGF5T2ZNb250aDogZnVuY3Rpb24gZ2V0Rmlyc3REYXlPZk1vbnRoKGRhdGUsIGRheW9mV2VlaykgewogICAgICB3aGlsZSAoZGF0ZSA+IDEpIHsKICAgICAgICBkYXlvZldlZWstLTsKICAgICAgICBpZiAoZGF5b2ZXZWVrIDwgMCkgZGF5b2ZXZWVrID0gNjsKICAgICAgICBkYXRlLS07CiAgICAgIH0KCiAgICAgIHJldHVybiBkYXlvZldlZWs7CiAgICB9CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKCJjYWxlbmRhciIsIFsidmlzaWJpbGl0eSJdKSksIHt9LCB7CiAgICBjYWxEYXRhOiBmdW5jdGlvbiBjYWxEYXRhKCkgewogICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTsKICAgICAgdmFyIGRhdGUgPSBub3cuZ2V0RnVsbFllYXIoKSArICIvIiArIChub3cuZ2V0TW9udGgoKSArIDEpICsgIi8iICsgbm93LmdldERhdGUoKTsKICAgICAgdmFyIGJzRGF0YSA9IGFkYnMuYWQyYnMoZGF0ZSk7CiAgICAgIHJldHVybiB7CiAgICAgICAgbW9udGg6IGJzRGF0YS5uZS5zdHJNb250aCwKICAgICAgICBtb250aEVuOiBic0RhdGEuZW4ubW9udGgsCiAgICAgICAgZGF5SW5Nb250aDogYnNEYXRhLm5lLmRheSwKICAgICAgICBkYXlJbk1vbnRoRW46IGJzRGF0YS5lbi5kYXksCiAgICAgICAgZGF5SW5XZWVrOiBic0RhdGEubmUuc3RyRGF5T2ZXZWVrLAogICAgICAgIGRheU9mV2Vla0VuOiBic0RhdGEuZW4uZGF5T2ZXZWVrLAogICAgICAgIHRvdGFsRGF5c0luTW9udGhFbjogYnNEYXRhLmVuLnRvdGFsRGF5c0luTW9udGgKICAgICAgfTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["Calendar.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"calendarContainer\">\n    <div class=\"miniCalendar\" :class=\"{'--active': visibility}\" @click=\"toggleFullCal()\">\n      <div class=\"date\">\n        <div class=\"dayInMonth\">{{calData.dayInMonth}}</div>\n        <div class=\"month\">{{calData.month}}</div>\n      </div>\n      <div class=\"dayInWeek\">{{calData.dayInWeek}}</div>\n    </div>\n\n    <div class=\"fullCalendar\" v-if=\"visibility\">\n      <div class=\"toolbar\">\n        <div class=\"arrow --left\">\n          <i class=\"fal fa-chevron-left\"></i>\n        </div>\n        <div class=\"monthName\">{{calData.month}}</div>\n        <div class=\"arrow --right\">\n          <i class=\"fal fa-chevron-right\"></i>\n        </div>\n      </div>\n\n      <table class=\"calTable\">\n        <thead>\n          <th>आइत</th>\n          <th>सोम</th>\n          <th>मंगल</th>\n          <th>बुध</th>\n          <th>बिहि</th>\n          <th>शुक्र</th>\n          <th>शनि</th>\n        </thead>\n        <tbody>\n          <tr v-for=\"(week, i) in fullCal\" :key=\"i\">\n            <td v-for=\"(day, j) in week\" :key=\"j\" :class=\"{'--today': day == calData.dayInMonthEn}\">\n              <span>{{day | npNumber}}</span>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport adbs from \"ad-bs-converter\";\nimport _ from \"lodash\";\n\nexport default {\n  name: \"Calendar\",\n  props: {},\n  data() {\n    return {\n      showFullCal: false,\n      fullCal: null,\n      fullCalMonth: null\n    };\n  },\n\n  created() {\n    this.fullCalMonth = this.calData.monthEn;\n    this.computeFullCal();\n  },\n\n  methods: {\n    computeClockText() {\n      let now = new Date();\n      let hr = now.getHours();\n      if (this.clockFormat == 12) hr = hr % 12 || 12;\n      let mins = now.getMinutes() + \"\";\n      if (mins.length === 1) mins = \"0\" + mins;\n      return hr + \":\" + mins;\n    },\n\n    computeFullCal() {\n      let firstDay = this.getFirstDayOfMonth(\n        this.calData.dayInMonthEn,\n        this.calData.dayOfWeekEn + 1\n      );\n      let linearCal = [];\n      for (let i = 1; i < firstDay; i++) linearCal.push(null);\n      for (let i = 1; i <= this.calData.totalDaysInMonthEn; i++)\n        linearCal.push(i);\n      this.fullCal = _.chunk(linearCal, 7);\n    },\n\n    toggleFullCal() {\n      this.$store.commit(\"calendar/setVisibility\", !this.visibility);\n    },\n\n    getFirstDayOfMonth(date, dayofWeek) {\n      while (date > 1) {\n        dayofWeek--;\n        if (dayofWeek < 0) dayofWeek = 6;\n        date--;\n      }\n      return dayofWeek;\n    }\n  },\n\n  computed: {\n    ...mapGetters(\"calendar\", [\"visibility\"]),\n\n    calData() {\n      let now = new Date();\n      let date =\n        now.getFullYear() + \"/\" + (now.getMonth() + 1) + \"/\" + now.getDate();\n      let bsData = adbs.ad2bs(date);\n\n      return {\n        month: bsData.ne.strMonth,\n        monthEn: bsData.en.month,\n        dayInMonth: bsData.ne.day,\n        dayInMonthEn: bsData.en.day,\n        dayInWeek: bsData.ne.strDayOfWeek,\n        dayOfWeekEn: bsData.en.dayOfWeek,\n        totalDaysInMonthEn: bsData.en.totalDaysInMonth\n      };\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.calendarContainer {\n  position: relative;\n  .miniCalendar {\n    display: flex;\n    flex-direction: column;\n    color: white;\n    font-size: 0.9rem;\n    cursor: pointer;\n    min-width: 40px;\n    min-height: 40px;\n    padding: 0.25rem 1rem;\n    border-radius: 3px;\n    @include transition;\n    @include not-selectable;\n\n    .date {\n      display: flex;\n      justify-content: space-between;\n    }\n\n    &:hover {\n      background-color: rgba($color: white, $alpha: 0.1);\n    }\n\n    &.--active {\n      background-color: rgba($color: white, $alpha: 0.1);\n    }\n  }\n\n  .fullCalendar {\n    position: absolute;\n    right: 0;\n    top: calc(100% + 10px);\n    height: auto;\n    width: 250px;\n    background-color: $white-background;\n    color: #373737;\n    border-radius: 5px;\n    text-align: center;\n\n    &:after {\n      content: \"\";\n      position: absolute;\n      top: 0;\n      right: 10px;\n      width: 0;\n      height: 0;\n      border: 10px solid transparent;\n      border-bottom-color: $white-background;\n      border-top: 0;\n      margin-left: -10px;\n      margin-top: -10px;\n    }\n\n    .toolbar {\n      display: flex;\n      padding: 0.25rem 0.5rem;\n      border-top-right-radius: 5px;\n      border-top-left-radius: 5px;\n\n      .arrow {\n        cursor: pointer;\n        padding: 0 0.2rem;\n        font-size: 0.9rem;\n      }\n\n      .monthName {\n        flex: 1;\n        @include not-selectable;\n      }\n    }\n\n    .calTable {\n      width: 100%;\n      font-size: 0.8rem;\n      th {\n        padding: 0;\n        font-weight: normal;\n      }\n\n      td {\n        width: 25px;\n        height: 25px;\n\n        &.--today {\n          span {\n            display: block;\n            background-color: white;\n            border-radius: 3px;\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/components"}]}